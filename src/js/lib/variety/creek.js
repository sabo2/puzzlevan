/*! @license pzpr.js v3.5.2 (c) 2009-2015 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.classmgr.makeCustom(["creek"],{MouseEvent:{mouseinput:function(){this.owner.playmode?(this.mousestart||this.mousemove)&&this.inputcell():this.owner.editmode&&this.mousestart&&this.inputcross()}},KeyEvent:{enablemake:!0,moveTarget:function(a){return this.moveTCross(a)},keyinput:function(a){this.key_inputcross(a)}},TargetCursor:{crosstype:!0},Cross:{maxnum:4,minnum:0},AreaUnshadeManager:{enabled:!0},Flags:{use:!0},Graphic:{margin:.5,bgcellcolor_func:"qans1",qanscolor:"rgb(96, 96, 96)",crosssize:.35,paint:function(){this.drawBGCells(),this.drawDotCells(!1),this.drawGrid(),this.drawChassis(),this.drawCrosses(),this.drawTarget()}},Encode:{decodePzpr:function(a){var b=1===a&&!this.checkpflag("c")||0===a&&this.checkpflag("d");b?this.decodecross_old():this.decode4Cross()},encodePzpr:function(a){1===a&&(this.outpflag="c"),this.encode4Cross()}},FileIO:{decodeData:function(){this.decodeCrossNum(),this.decodeCellAns()},encodeData:function(){this.encodeCrossNum(),this.encodeCellAns()}},AnsCheck:{checklist:["checkShadeOverNum","checkConnectUnshade","checkShadeLessNum"],checkShadeOverNum:function(){this.checkQnumCross(1,"crShadeGt")},checkShadeLessNum:function(){this.checkQnumCross(2,"crShadeLt")},checkQnumCross:function(a,b){for(var c=this.owner.board,d=0;d<c.crossmax;d++){var e=c.cross[d],f=e.qnum;if(!(0>f)){var g=e.bx,h=e.by,i=c.cellinside(g-1,h-1,g+1,h+1),j=i.filter(function(a){return a.isShade()}).length;if(!(1===a&&f>=j||2===a&&j>=f)){if(this.failcode.add(b),this.checkOnly)break;e.seterr(1)}}}}},FailCode:{crShadeGt:["数字のまわりにある黒マスの数が間違っています。","The number of shaded cells around a number on crossing is big."],crShadeLt:["数字のまわりにある黒マスの数が間違っています。","The number of shaded cells around a number on crossing is small."]}});