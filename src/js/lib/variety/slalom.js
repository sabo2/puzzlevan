/*! @license pzpr.js v3.5.2 (c) 2009-2015 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.classmgr.makeCustom(["slalom"],{MouseEvent:{mouseinput:function(){this.owner.playmode?this.btn.Left?this.mousestart||this.mousemove?this.inputLine():this.mouseend&&this.notInputted()&&this.inputpeke():this.btn.Right&&(this.mousestart||this.mousemove)&&this.inputpeke():this.owner.editmode&&(this.mousestart||this.mousemove?this.inputEdit():this.mouseend&&this.inputEdit_end())},inputEdit:function(){var a=this.getcell();a.isnull||(this.mouseCell.isnull&&this.inputEdit_first(a),10===this.inputData?this.owner.board.startpos.input(a):2===this.inputData?this.inputdirec():this.inputGate(a),this.mouseCell=a)},inputEdit_first:function(a){a===this.owner.board.startpos.getc()?this.inputData=10:1===a.ques&&a.isNum()?this.inputData=2:this.firstPoint.set(this.inputPoint)},inputGate:function(a){var b=a.getaddr(),c=!1;if(1===a.ques);else if(null===this.inputData){if(a===this.mouseCell){var d=Math.abs(this.inputPoint.bx-this.firstPoint.bx),e=Math.abs(this.inputPoint.by-this.firstPoint.by);e>=.25?(this.inputData=21,c=!0):d>=.25&&(this.inputData=22,c=!0)}else{var f=this.getdir(this.prevPos,b);f===b.UP||f===b.DN?(this.inputData=21,c=!0):(f===b.LT||f===b.RT)&&(this.inputData=22,c=!0)}c&&(a.ques===this.inputData&&(this.inputData=0),this.firstPoint.reset())}else if(a!==this.mouseCell)if(0===this.inputData)this.inputData=0,c=!0;else{var f=this.getdir(this.prevPos,b);f===b.UP||f===b.DN?(this.inputData=21,c=!0):(f===b.LT||f===b.RT)&&(this.inputData=22,c=!0)}if(this.prevPos=b,c){var g=this.owner.board;a.setQues(this.inputData),g.hinfo.generateGates(),a.draw(),g.startpos.draw()}},inputEdit_end:function(){var a=this.getcell();a.isnull||(10===this.inputData?(this.inputData=null,a.draw()):this.notInputted()&&(a!==this.cursor.getc()?this.setcursor(a):this.inputGateNumber(a)))},inputGateNumber:function(a){var b=this.owner.board;this.btn.Left?a.setQues({0:1,1:21,21:22,22:0}[a.ques]):this.btn.Right&&a.setQues({0:22,22:21,21:1,1:0}[a.ques]),a.setNum(-1),b.hinfo.generateGates(),a.draw(),b.startpos.draw()}},KeyEvent:{enablemake:!0,enableplay:!0,keyup_event:!0,moveTarget:function(a){return a.match(/shift/)?!1:this.owner.editmode&&"x"!==a?this.moveTCell(a):!1},keyinput:function(a){if("x"!==a){if(this.keydown&&this.owner.editmode){if(this.key_inputdirec(a))return;this.key_inputqnum_slalom(a)}}else this.owner.painter.drawNumbersOnGate(!!this.keydown)},key_inputqnum_slalom:function(a){var b=this.cursor.getc(),c=this.owner.board;if("q"===a||"w"===a||"e"===a||"r"===a||"s"===a||" "===a){var d=b.ques,e=-1;if("q"===a)e=1!==d?1:0;else if("w"===a)e=21;else if("e"===a)e=22;else if("r"===a||" "===a)e=0;else{if("s"!==a)return;c.startpos.input(b)}if(d===e)return;-1!==e&&(b.setQues(e),0===e&&b.setNum(-1),(21===d||22===d||21===e||22===e)&&c.hinfo.generateGates(),b.draw(),c.startpos.draw())}else 1===b.ques&&this.key_inputqnum(a)}},Cell:{disInputHatena:!0,maxnum:function(){return Math.min(255,this.owner.board.hinfo.max)}},Border:{enableLineNG:!0},Board:{hasborder:1,startpos:null,hinfo:null,initialize:function(){this.common.initialize.call(this),this.startpos=new this.owner.StartPosAddress(1,1),this.hinfo=new this.owner.HurdleManager},initBoardSize:function(a,b){this.common.initBoardSize.call(this,a,b),this.startpos.set(this.cell[0]),this.hinfo.init()},getTraceInfo:function(){for(var a={errgateid:null},b=this.startpos.getc(),c=1;4>=c&&(a=this.searchTraceInfo(b,c),null===a.errgateid);c++);return a},searchTraceInfo:function(a,b){for(var c={errgateid:null},d=a.getaddr(),e=0,f=-1;;)if(d.movedir(b,1),d.oncell()){var g=d.getc();if(a===g)break;if(21===g.ques||22===g.ques){var h=this.hinfo.getGateid(g.id);e++;var i=this.hinfo.data[h].number;if(0>=i);else if(-1===f)if(2*i-1===this.hinfo.max);else{if(e!==i){if(e===this.hinfo.max+1-i)break;c.errgateid=h;break}f=1}else if(1===f&&e!==i){c.errgateid=h;break}}var j=g.adjborder;if(2!==g.lcnt)break;1!==b&&j.bottom.isLine()?b=2:2!==b&&j.top.isLine()?b=1:3!==b&&j.right.isLine()?b=4:4!==b&&j.left.isLine()&&(b=3)}else if(!d.getb().isLine())break;return c}},BoardExec:{posinfo:{},adjustBoardData:function(a,b){var c=this.owner.board;if(a&this.TURN)for(var d={21:22,22:21},e=c.cellinside(b.x1,b.y1,b.x2,b.y2),f=0;f<e.length;f++){var g=e[f],h=d[g.ques];h&&g.setQues(h)}this.posinfo=this.getAfterPos(a,b,c.startpos.getc()),this.adjustNumberArrow(a,b)},adjustBoardData2:function(a){var b,c=this.owner.board,d=this.owner.opemgr,e=this.posinfo;b=a&this.REDUCE&&e.isdel&&!d.undoExec&&!d.redoExec,b&&(d.forceRecord=!0),c.startpos.set(e.pos.getc()),b&&(d.forceRecord=!1),c.hinfo.generateGates()}},"StartPosAddress:Address":{input:function(a){var b=this.clone();this.equals(a)||(this.set(a),b.draw()),this.draw()},set:function(a){this.addOpe(a.bx,a.by),this.bx=a.bx,this.by=a.by},addOpe:function(a,b){!this.owner.ready||this.bx===a&&this.by===b||this.owner.opemgr.add(new this.owner.StartposOperation(this.bx,this.by,a,b))}},"StartposOperation:Operation":{setData:function(a,b,c,d){this.bx1=a,this.by1=b,this.bx2=c,this.by2=d},decode:function(a){return"PS"!==a[0]?!1:(this.bx1=+a[1],this.by1=+a[2],this.bx2=+a[3],this.by2=+a[4],!0)},toString:function(){return["PS",this.bx1,this.by1,this.bx2,this.by2].join(",")},isModify:function(a){return this.manager.changeflag&&a.bx2===this.bx1&&a.by2===this.by1?(a.bx2=this.bx2,a.by2=this.by2,!0):!1},undo:function(){this.exec(this.bx1,this.by1)},redo:function(){this.exec(this.bx2,this.by2)},exec:function(a,b){var c=this.owner.board,d=c.getc(a,b);c.startpos.input(d)}},OperationManager:{initialize:function(){this.common.initialize.call(this),this.operationlist.push(this.owner.StartposOperation)}},LineManager:{isCenterLine:!0},Flags:{redline:!0,irowake:1},Graphic:{gridcolor_type:"LIGHT",errbcolor1_type:"DARK",fontcolor:"white",fontErrcolor:"white",linecolor:"rgb(32, 32, 255)",errlinebgcolor:"rgb(160, 150, 255)",pekecolor:"rgb(0, 160, 0)",paint:function(){this.drawBGCells(),this.drawGrid(),this.drawGates(),this.drawShadedCells(),this.drawArrowNumbers(),this.drawPekes(),this.drawLines(),this.drawStartpos(),this.drawChassis(),this.drawTarget()},getCellColor:function(a){if(1===a.ques){if(0===a.error)return this.quescolor;if(1===a.error)return this.errcolor1}return null},drawGates:function(){for(var a=this.vinc("cell_gate","auto",!0),b=Math.max(this.cw/10,3),c=b/2,d=1.1*b,e=this.range.cells,f=0;f<e.length;f++){var g=e[f];if(a.fillStyle=4===g.error?this.errcolor1:this.quescolor,a.vid="c_dl21_"+g.id,21===g.ques){var h,i=g.bx*this.bw-c+1,j=(g.by-1)*this.bh,k=j+this.ch;for(a.beginPath(),h=j;k>h;h+=2*d)a.rect(i,h,b,d);a.fill()}else a.vhide();if(a.vid="c_dl22_"+g.id,22===g.ques){var i,h=g.by*this.bh-c+1,l=(g.bx-1)*this.bw,k=l+this.cw;for(a.beginPath(),i=l;k>i;i+=2*d)a.rect(i,h,d,b);a.fill()}else a.vhide()}},drawStartpos:function(){var a=this.vinc("cell_circle","auto"),b=this.owner.board,c=b.startpos.getc(),d=this.range;if(!(c.bx<d.x1||d.x2<c.bx||c.by<d.y1||d.y2<c.by)){var e=c.bx*this.bw,f=c.by*this.bh,g=.42*this.cw;a.vid="c_stpos",a.lineWidth=Math.max(.05*this.cw,1),a.strokeStyle=this.quescolor,a.fillStyle=10===this.owner.mouse.inputData?this.errbcolor1:"white",a.shapeCircle(e,f,g),a.vid="text_stpos",a.fillStyle=this.quescolor,this.disptext(""+b.hinfo.max,e,f,{ratio:[.75,.66]})}},repaintParts:function(a){for(var b=a.cellinside(),c=0;c<b.length;c++){var d=b[c];if(this.owner.board.startpos.equals(d)){this.range={x1:d.bx,y1:d.by,x2:d.bx,y2:d.by},this.drawStartpos();break}}},drawNumbersOnGate:function(a){var b=this.context,c=this.owner.board;a&&c.hinfo.generateGateNumber();for(var d=0;d<c.cellmax;d++){var e=c.cell[d];if(21===e.ques||22===e.ques){var f=c.hinfo.getGateid(d),g=f>0?c.hinfo.data[f].number:-1;b.vid="cell_text_"+d,a&&g>0?(b.fillStyle="tomato",this.disptext(""+g,e.bx*this.bw,e.by*this.bh)):b.vhide()}}}},Encode:{decodePzpr:function(){this.decodeSlalom(this.checkpflag("d")?2:this.checkpflag("p")?1:0)},encodePzpr:function(a){var b=pzpr.parser;return a===b.URL_PZPRV3&&(this.outpflag="d"),this.encodeSlalom(a===b.URL_PZPRV3?2:0)},decodeKanpen:function(){this.owner.fio.decodeBoard_kanpen()},encodeKanpen:function(){this.owner.fio.encodeBoard_kanpen()},decodeSlalom:function(a){var b=this.outbstr,c=b.split("/"),d=0,e=0,f=this.owner.board;for(e=0;e<c[0].length;e++){var g=c[0].charAt(e),h=f.cell[d];if("1"===g?h.ques=1:"2"===g?h.ques=21:"3"===g?h.ques=22:(this.include(g,"4","9")||this.include(g,"a","z"))&&(d+=parseInt(g,36)-4),d++,d>=f.cellmax)break}if(f.hinfo.generateGates(),0===a){var i=1;for(e+=1;e<c[0].length;e++){var g=c[0].charAt(e);if(this.include(g,"0","9")||this.include(g,"a","f")?f.hinfo.data[i].number=parseInt(g,16):"-"===g?(f.hinfo.data[i].number=parseInt(b.substr(e+1,2),16),e+=2):this.include(g,"g","z")&&(i+=parseInt(g,36)-16),i++,i>f.hinfo.max)break}for(var d=0;d<f.cellmax;d++){for(var j=f.hinfo.getConnectingGate(d),k=1e3,e=0;e<j.length;e++){var l=f.hinfo.data[j[e]].number;l>0&&(k=Math.min(k,l))}f.cell[d].qnum=1e3>k?k:-1}}else if(1===a||2===a){var d=0,m=0;for(e+=1;e<c[0].length;e++){var h=f.cell[d];if(1!==h.ques)e--;else if(m>0)e--,m--;else{var g=c[0].charAt(e);1===a&&(this.include(g,"0","9")||this.include(g,"a","f"))?h.qnum=parseInt(g,16):1===a&&"-"===g?(h.qnum=parseInt(b.substr(e+1,2),16),e+=2):2===a&&this.include(g,"0","4")?(h.qdir=parseInt(g,16),h.qnum=parseInt(b.charAt(e+1),16),e++):2===a&&this.include(g,"5","9")?(h.qdir=parseInt(g,16)-5,h.qnum=parseInt(b.substr(e+1,2),16),e+=2):g>="g"&&"z">=g&&(m=parseInt(g,36)-15-1)}if(d++,d>=f.cellmax)break}}f.startpos.set(f.cell[+c[1]]),this.outbstr=c[0].substr(e)},encodeSlalom:function(a){var b="",c=0,d=this.owner.board;d.hinfo.generateAll();for(var e=0;e<d.cellmax;e++){var f="",g=d.cell[e];1===g.ques?f="1":21===g.ques?f="2":22===g.ques?f="3":c++,0===c?b+=f:(f||32===c)&&(b+=(3+c).toString(36)+f,c=0)}if(c>0&&(b+=(3+c).toString(36)),c=0,0===a){for(var h=1;h<=d.hinfo.max;h++){var f="",i=d.hinfo.data[h].number;i>=0&&16>i?f=i.toString(16):i>=16&&256>i?f="-"+i.toString(16):c++,0===c?b+=f:(f||20===c)&&(b+=(15+c).toString(36)+f,c=0)}c>0&&(b+=(15+c).toString(36))}else if(1===a||2===a){for(var e=0;e<d.cellmax;e++){var g=d.cell[e];if(1===g.ques){var f="",i=g.qnum,j=g.qdir;i>=1&&16>i?f=(1===a?"":""+j)+i.toString(16):i>=16&&256>i?f=(1===a?"-":""+(j+5))+i.toString(16):c++,0===c?b+=f:(f||20===c)&&(b+=(15+c).toString(36)+f,c=0)}}c>0&&(b+=(15+c).toString(36))}b+="/"+d.startpos.getc().id,this.outbstr+=b}},FileIO:{decodeData:function(){2===this.filever?this.decodeBoard_pzpr2():1===this.filever?this.decodeBoard_pzpr1():0===this.filever&&this.decodeBoard_old(),this.decodeBorderLine()},encodeData:function(){this.filever=2,this.encodeBoard_pzpr2(),this.encodeBorderLine()},kanpenOpen:function(){this.decodeBoard_kanpen(),this.decodeBorderLine()},kanpenSave:function(){this.encodeBoard_kanpen(),this.encodeBorderLine()},decodeBoard_pzpr1:function(){var a=this.owner.board;this.decodeCell(function(b,c){"o"===c?a.startpos.set(b):"i"===c?b.ques=21:"-"===c?b.ques=22:"#"===c?b.ques=1:"."!==c&&(b.ques=1,b.qnum=+c)}),a.hinfo.generateGates()},decodeBoard_pzpr2:function(){var a=this.owner.board;this.decodeCell(function(b,c){if("o"===c)a.startpos.set(b);else if("i"===c)b.ques=21;else if("-"===c)b.ques=22;else if("#"===c)b.ques=1;else if("."!==c){var d=c.split(",");b.ques=1,b.qdir="0"!==d[0]?+d[0]:0,b.qnum="-"!==d[1]?+d[1]:-2}}),a.hinfo.generateGates()},encodeBoard_pzpr2:function(){var a=this.owner.board;a.hinfo.generateAll(),this.encodeCell(function(b){if(a.startpos.equals(b))return"o ";if(21===b.ques)return"i ";if(22===b.ques)return"- ";if(1===b.ques&&b.qnum<=0)return"# ";if(1===b.ques){var c=0!==b.qdir?""+b.qdir:"0",d=-2!==b.qnum?""+b.qnum:"-";return[c,",",d," "].join("")}return". "})},decodeBoard_kanpen:function(){var a=this.owner.board;this.decodeCell(function(b,c){"+"===c?a.startpos.set(b):"|"===c?b.ques=21:"-"===c?b.ques=22:"0"===c?b.ques=1:"."!==c&&(b.ques=1,b.qnum=+c)}),a.hinfo.generateGates()},encodeBoard_kanpen:function(){var a=this.owner.board;a.hinfo.generateAll(),this.encodeCell(function(b){return a.startpos.equals(b)?"+ ":21===b.ques?"| ":22===b.ques?"- ":1===b.ques?b.qnum>0?b.qnum+" ":"0 ":". "})},kanpenOpenXML:function(){this.decodeCellSlalom_XMLBoard(),this.decodeBorderLine_XMLAnswer()},kanpenSaveXML:function(){this.encodeCellSlalom_XMLBoard(),this.encodeBorderLine_XMLAnswer()},UNDECIDED_NUM_XML:-3,decodeCellSlalom_XMLBoard:function(){var a=this.owner.board;this.decodeCellXMLBoard(function(b,c){c>=0?(b.ques=1,c>0&&(b.qnum=c)):-5===c?b.ques=21:-4===c?b.ques=22:-1===c&&a.startpos.set(b)}),a.hinfo.generateGates()},encodeCellSlalom_XMLBoard:function(){var a=this.owner.board;a.hinfo.generateAll(),this.encodeCellXMLBoard(function(b){var c=-3;return 1===b.ques?c=b.qnum>0?b.qnum:0:21===b.ques?c=-5:22===b.ques?c=-4:a.startpos.equals(b)&&(c=-1),c})},decodeBoard_old:function(){var a=[],b=this.owner.board;this.decodeCell(function(c,d){var e=c.id;a[e]=-1,"#"===d?c.ques=1:"o"===d?b.startpos.set(c):"."!==d&&("i"===d.charAt(0)?c.ques=21:"w"===d.charAt(0)&&(c.ques=22),d.length>1&&(a[e]=+d.substr(1)))}),b.hinfo.generateGates();for(var c=0;c<b.cellmax;c++)-1!==a[c]&&(b.hinfo.data[b.hinfo.getGateid(c)].number=a[c]);for(var c=0;c<b.cellmax;c++){for(var d=b.hinfo.getConnectingGate(c),e=1e3,f=0;f<d.length;f++){var g=b.hinfo.data[d[f]].number;g>0&&(e=Math.min(e,g))}b.cell[c].qnum=1e3>e?e:-1}}},AnsCheck:{checklist:["checkLineOnShadeCell","checkCrossLine","checkBranchLine","checkPassGateOnce","checkStartid","checkGateNumber","checkDeadendLine+","checkOneLoop","checkPassAllGate"],generateGateNumber:function(){this._info.gate||(this.owner.board.hinfo.generateAll(),this._info.gate=!0)},checkStartid:function(){var a=this.owner.board.startpos.getc();2!==a.lcnt&&(a.seterr(1),this.failcode.add("stLineNe2"))},checkPassGateOnce:function(){return this.checkGateLine(1,"gateRedup")},checkPassAllGate:function(){return this.checkGateLine(2,"gateUnpass")},checkGateLine:function(a,b){this.generateGateNumber();for(var c=this.owner.board,d=1;d<=c.hinfo.max;d++){for(var e=0,f=c.hinfo.data[d].clist,g=0;g<f.length;g++)f[g].lcnt>0&&e++;if(!(1===a&&1>=e||2===a&&e>0)){if(this.failcode.add(b),this.checkOnly)break;f.seterr(4),c.hinfo.getGatePole(d).seterr(1)}}},checkGateNumber:function(){this.generateGateNumber();var a=this.owner.board,b=a.getTraceInfo(),c=b.errgateid;null!==c&&(this.failcode.add("lrOrder"),a.hinfo.data[c].clist.seterr(4),a.hinfo.getGatePole(c).seterr(1))}},FailCode:{gateRedup:["線が２回以上通過している旗門があります。","A line goes through a gate twice or more."],gateUnpass:["線が通過していない旗門があります。","There is a gate that the line is not passing."],lrOrder:["旗門を通過する順番が間違っています。","The order of passing the gate is wrong."],stLineNe2:["○から線が２本出ていません。","A line goes through a gate twice or more."]},HurdleData:{initialize:function(){this.clist=new this.owner.CellList,this.number=-1,this.val=0,this.x1=this.x2=this.y1=this.y2=-1}},HurdleManager:{getGateid:function(a){return 0>a||a>=this.owner.board.cellmax?-1:this.gateid[a]},getGatePole:function(a){var b,c,d=this.owner.board,e=new this.owner.CellList;if(21===this.data[a].val)b=d.getc(this.data[a].x1,this.data[a].y1-2),c=d.getc(this.data[a].x1,this.data[a].y2+2);else{if(22!==this.data[a].val)return[];b=d.getc(this.data[a].x1-2,this.data[a].y1),c=d.getc(this.data[a].x2+2,this.data[a].y1)}return b.isnull||1!==b.ques||e.add(b),c.isnull||1!==c.ques||e.add(c),e},getConnectingGate:function(a){var b,c=this.owner.board,d=c.cell[a],e=d.adjacent,f=[];return b=e.top,b.isnull||21!==b.ques||f.push(this.gateid[b.id]),b=e.bottom,b.isnull||21!==b.ques||f.push(this.gateid[b.id]),b=e.left,b.isnull||22!==b.ques||f.push(this.gateid[b.id]),b=e.right,b.isnull||22!==b.ques||f.push(this.gateid[b.id]),f},init:function(){this.max=0,this.gateid=[];for(var a=0;a<this.owner.board.cellmax;a++)this.gateid[a]=-1;this.data=[]},generateAll:function(){this.generateGates(),this.generateGateNumber()},generateGates:function(){var a=this.owner.board;this.init();for(var b=0;b<a.cellmax;b++){var c=a.cell[b],d=c.ques;if(0!==d&&1!==d&&-1===this.getGateid(c.id)){for(var e=c.getaddr(),f=21===d,g=++this.max,h=this.data[g]=new this.owner.HurdleData;;){var i=e.getc();if(i.isnull||i.ques!==d)break;h.clist.add(i),this.gateid[i.id]=g,f?e.move(0,2):e.move(2,0)}h.x1=c.bx,h.y1=c.by,h.x2=f?e.bx:e.bx-2,h.y2=f?e.by-2:e.by,h.val=d}}},generateGateNumber:function(){for(var a=1;a<=this.max;a++)this.data[a].number=-1;for(var b=[],c=this.owner.board,a=1;a<=this.max;a++)b[a]=[];for(var d=0;d<c.cellmax;d++){var e=c.cell[d];if(1===e.ques){var f=e.getNum(),g=e.qdir,h=e.adjacent;if(0>=f||f>this.max)continue;g!==e.NDIR&&g!==e.UP||21!==h.top.ques||b[this.gateid[h.top.id]].push(f),g!==e.NDIR&&g!==e.DN||21!==h.bottom.ques||b[this.gateid[h.bottom.id]].push(f),g!==e.NDIR&&g!==e.LT||22!==h.left.ques||b[this.gateid[h.left.id]].push(f),g!==e.NDIR&&g!==e.RT||22!==h.right.ques||b[this.gateid[h.right.id]].push(f)}}for(var i=this,j=function(a){for(var c=1;c<=i.max;c++){for(var d=[],e=0;e<b[c].length;e++)1!==a[b[c][e]]&&d.push(b[c][e]);b[c]=d}},k=[],l=1;l<=this.max;l++)k[l]=0;for(var a=1;a<=this.max;a++)2===b[a].length&&b[a][0]>0&&b[a][0]===b[a][1]&&(this.data[a].number=b[a][0],k[b[a][0]]=1,b[a]=[]);j(k);for(var m=!0;m;){m=!1;for(var l=1;l<=this.max;l++)k[l]=0;for(var n=[],l=1;l<=this.max;l++)n[l]=0;for(var a=1;a<=this.max;a++)1===b[a].length&&n[b[a][0]]++;for(var a=1;a<=this.max;a++){var o=1===b[a].length?b[a][0]:-1;o>0&&n[o]>1&&(o=-1),o>0&&(this.data[a].number=o,k[o]=1,b[a]=[],m=!0)}if(j(k),!m){for(var l=1;l<=this.max;l++)n[l]=0;for(var a=1;a<=this.max;a++)for(var p=0;p<b[a].length;p++)n[b[a][p]]++;for(var a=1;a<=this.max;a++){for(var o=-1,p=0;p<b[a].length;p++)1===n[b[a][p]]&&(o=-1===o?b[a][p]:-1);o>0&&(this.data[a].number=o,k[o]=1,b[a]=[],m=!0)}j(k)}}}}});