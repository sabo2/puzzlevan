/*! @license pzpr.js v3.5.2-pre (c) 2009-2015 sabo2, MIT license
 *   https://bitbucket.org/sabo2/pzprv3 */
pzpr.classmgr.makeCustom(["shikaku","aho"],{MouseEvent:{mouseinput:function(){this.owner.playmode?(this.mousestart||this.mousemove)&&(this.btn.Left&&this.isBorderMode()?this.inputborder():this.inputQsubLine()):this.owner.editmode&&this.mousestart&&this.inputqnum()}},KeyEvent:{enablemake:!0},Board:{hasborder:1},AreaRoomManager:{enabled:!0},Graphic:{hideHatena:!0,gridcolor_type:"DLIGHT",bordercolor_func:"qans",fontcolor:"white",fontErrcolor:"white",globalfontsizeratio:.85,circleratio:[.4,.4],paint:function(){this.drawBGCells(),this.drawDashedGrid(),this.drawBorders(),this.drawCircles(),this.drawNumbers(),this.drawBorderQsubs(),this.drawChassis(),this.drawTarget()},circlestrokecolor_func:"null",getCircleFillColor:function(a){return-1!==a.qnum?1===a.error?this.errcolor1:this.quescolor:null}},Encode:{decodePzpr:function(){this.decodeNumber16()},encodePzpr:function(){this.encodeNumber16()},decodeKanpen:function(){this.owner.fio.decodeCellQnum_kanpen()},encodeKanpen:function(){this.owner.fio.encodeCellQnum_kanpen()}},FileIO:{decodeData:function(){this.decodeCellQnum(),this.decodeBorderAns()},encodeData:function(){this.encodeCellQnum(),this.encodeBorderAns()},kanpenOpen:function(){this.decodeCellQnum_kanpen(),this.decodeAnsSquareRoom()},kanpenSave:function(){this.encodeCellQnum_kanpen(),this.encodeAnsSquareRoom()}},AnsCheck:{checklist:["checkNoNumber","checkDoubleNumber","checkRoomRect@shikaku","checkAhoSquare@aho","checkLshapeArea@aho","checkNumberAndSize","checkBorderDeadend+"],checkAhoSquare:function(){this.checkAllArea(this.getRoomInfo(),function(a,b,c,d){return 0>d||d%3===0||a*b===c},"bkNotRect3")},checkLshapeArea:function(){for(var a=this.getRoomInfo(),b=1;b<=a.max;b++){var c=a.area[b].clist,d=c.getQnumCell();if(!d.isnull){var e=d.qnum;if(!(0>e||e%3!==0)){var f=c.getRectSize(),g=this.owner.board.cellinside(f.x1,f.y1,f.x2,f.y2).filter(function(c){return a.getRoomID(c)!==b}),h=g.getRectSize();if(!(g.length>0&&h.cols*h.rows===h.cnt)||f.x1!==h.x1&&f.x2!==h.x2||f.y1!==h.y1&&f.y2!==h.y2){if(this.failcode.add("bkNotLshape3"),this.checkOnly)break;c.seterr(1)}}}}}},FailCode:{bkNoNum:["数字の入っていない領域があります。","An area has no numbers."],bkNumGe2:["1つの領域に2つ以上の数字が入っています。","An area has plural numbers."],bkSizeNe:["数字と領域の大きさが違います。","The size of the area is not equal to the number."],bkNotRect:["四角形ではない領域があります。","An area is not rectangle."],bkNotRect3:["大きさが3の倍数ではないのに四角形ではない領域があります。","An area whose size is not multiples of three is not rectangle."],bkNotLshape3:["大きさが3の倍数である領域がL字型になっていません。","An area whose size is multiples of three is not L-shape."]}});