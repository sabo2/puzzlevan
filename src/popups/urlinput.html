<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="utf-8">
<link rel="stylesheet" href="./popup.css" type="text/css" />
<style>
	body {
		-webkit-user-select:none;
		user-select:none;
	}
	#textarea {
		height:180px;
		width:480px;
		padding: 2px;
		overflow-wrap:break-word;
		word-break:break-all;
		background-color:white;
		border:solid 1px gray;
		-webkit-user-select:text;
		user-select:text;
		box-shadow: inset 3px 3px 3px #ccc; 
	}
</style>
<script type="text/javascript" src="./popup.js"></script>
<script type="text/javascript">
popupmgr.extend({
	urlinput : function(){
		require('ipc').send('open-puzzle', textarea.textContent.replace(/\n/g,""));
		window.close();
	},
	paste : function(){
		textarea.focus();
		require('remote').getCurrentWebContents().selectAll();
		require('remote').getCurrentWebContents().paste();
		require('remote').getCurrentWebContents().unselect();
	}
});

document.addEventListener('keydown', function(e){
	if(e.keyCode===86 && (e.metaKey || e.ctrlKey)){ popupmgr.paste();}
}, false);
</script>
<title>Import from URL</title>
</head>

<body>
  <div class="popup" id="main">
    <form name="urlinput">
      <span>__URLから問題を読み込みます。__Import a question from URL.__</span>
      <br />
      <div id="textarea" contentEditable></div>
      <br />
      <button type="button" class="btn btn-info" data-button-exec="paste">Paste URL</button>
      <button type="button" class="btn btn-ok" data-button-exec="urlinput">__読み込む__Import__</button>
      <button type="button" class="btn" data-button-exec="close">__キャンセル__Cancel__</button>
    </form>
  </div>
</body>
</html>
